<!DOCTYPE HTML>
<html>
<body class="desativar">
<canvas id="myCanvas" width="330px" height="175px"></canvas>
<link rel="stylesheet" href="classes.css">
<script src="PSlibrary20192.js"></script>
<script>
//***********************************************//
// VARIÁVEIS ---------------------------------
var validar = false;
function iniciar(){
	if(validar == false){
		validar = true;
	}
}
function voltar(){
	validar = false;
	deltaTheta = 0;
	cont = 0;
}
//------------------------------------------>
function parallelepiped(x, y, L, W, H, colorstroke, colorfill){
	var x; y; L; W; H; colorstroke; colorfill;
	var theta = 30*Math.PI/180;
	var d = Math.cos(theta)*W;
	var hlinha = Math.sin(theta)*W;
	var stroke = 1.5;	
	//------->
	ctx.beginPath();		
	ctx.lineCap = "round";
	ctx.moveTo(x,y);
	ctx.lineTo(x + L, y);
	ctx.lineTo(x + L + d, y - hlinha);
	ctx.lineTo(x + L + d, y - hlinha - H);
	ctx.lineTo(x + d, y - hlinha - H);
	ctx.lineTo(x, y - H);
	ctx.lineTo(x, y);
	ctx.moveTo(x,y - H);
	ctx.lineTo(x + L, y - H);
	ctx.lineTo(x + L + d, y - hlinha - H);
	ctx.moveTo(x + L,y - H);
	ctx.lineTo(x + L, y);
	//
	ctx.fillStyle = colorfill;
	ctx.fill();
	ctx.lineWidth = stroke;
	ctx.strokeStyle = colorstroke;
	ctx.stroke();	
	
}
//
var x = 40;
var y = 160;
var corSolido = '#bdc3c7';
var dim = [100,80,80];
var alpha = 0.01;
var deltaTheta = 0;
var dL;
var dW;
var dH;
var cont = 0;
var dx;
var dy;
var dzx;
var dzy;

function desenhar(){	
	clear(); 
	//rectangle(5, 5, canvas.width - 10, canvas.height - 10, 1, 0, darkcolor, nocolor);	
	//**********************//	
	dL = alpha*dim[0]*deltaTheta;
	dW = alpha*dim[1]*deltaTheta;
	dH = alpha*dim[2]*deltaTheta;	
	dzx = dW*Math.cos(30*Math.PI/180);
	dzy = dW*Math.sin(30*Math.PI/180);
	dx = dL/2;
	dy = 0;

	parallelepiped(x, y, dim[0], dim[1], dim[2], 'rgba(230,230,230,1)', nocolor);
	parallelepiped(x - dx, y + dy, dim[0] + dL , dim[1] + dW, dim[2] + dH, darkcolor, 'rgba(100,100,140,0.2)');
		
	if(validar == true && cont < 80){
		deltaTheta = deltaTheta + 0.2;
		cont = cont + 1;
	}
	
	//textBold('d', size, font, x, y, color);
	//**********************//	
	animationFrame(desenhar); 	
}
draw(desenhar);
</script>
<!-- -------------------------------------------- -->
<div>
	<input style="top:80px; left:260px;" class="btnIniciar blue" type="button" onclick="iniciar()" value = "Iniciar">
</div>

<div>
	<input style="top:110px; left:260px;" class="btnIniciar orange" type="button" onclick="voltar()" value = "Voltar">
</div>
</body>		
</html>









